(function(d){d(".input100").each(function(){d(this).on("blur",function(){if(d(this).val().trim()!=""){d(this).addClass("has-val")}else{d(this).removeClass("has-val")}})});var c=d(".validate-input .input100");d(".validate-form").on("submit",function(h){h.preventDefault();var g=true;for(var j=0;j<c.length;j++){if(f(c[j])==false){b(c[j]);g=false}}if(g==true){var k=d(".login100-form").serialize();if(d("form #form_type").val()=="signup"){d.ajax({url:"../include/customer.php",type:"POST",dataType:"",data:"action=customer_signup&"+k}).done(function(l){console.log(l);var i=JSON.parse(l);if(i.status=="success"){a("success",i.message,"fa fa-check-circle","",4500)}else{a("danger",i.message,"fa fa-times-circle","",4500)}})}if(d("form #form_type").val()=="login"){d.ajax({url:"../include/customer.php",type:"post",dataType:"",data:"&action=customer_login&"+k}).done(function(l){console.log(l);var i=JSON.parse(l);console.log(i);if(parseInt(i.response)==200&&i.status=="OK"){console.log(i.callback);a("success","Login was successful, redirecting in a minute","fa fa-check-circle","",4500);setTimeout(function(){if(i.callback!=""){}else{window.location.href="index.php"}},5050)}else{a("danger","E-Mail not found on our record, try again with a different mail","fa fa-times-circle","",5000)}}).fail(function(){a("danger","Server error, please try again in a minute","fa fa-times-circle","",5000)})}}return g});d(".validate-form .input100").each(function(){d(this).focus(function(){e(this)})});function f(g){if(d(g).attr("type")=="email"||d(g).attr("name")=="email"){if(d(g).val().trim().match(/^([a-zA-Z0-9_\-\.]+)@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.)|(([a-zA-Z0-9\-]+\.)+))([a-zA-Z]{1,5}|[0-9]{1,3})(\]?)$/)==null){return false}}else{if(d(g).attr("type")=="checkbox"&&d(g).attr("name")=="accept_terms"){if(d(g+":checked").val()!="on"){return false}}else{if(d(g).val().trim()==""){return false}}}}function b(g){var h=d(g).parent();d(h).addClass("alert-validate")}function e(g){var h=d(g).parent();d(h).removeClass("alert-validate")}var a=function(h,i,g,j,k){d("body").append('<div class="alert alert-popup alert-'+h+' alert-dismissable fade in" role="alert"> <strong> <i class="icon '+g+'"> </i>'+j+" </strong> "+i+' <button type="button" class="close" data-dismiss="alert" aria-label="Close"> <span aria-hidden="true"> &times; </span> </button> </div>');setTimeout(function(){d(".alert").fadeOut(600,function(){d(this).alert("close")})},k)}})(jQuery);